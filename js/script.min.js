document.addEventListener("DOMContentLoaded",function(){function e(){let e=document.querySelector(".menu-hamburger"),a=document.querySelector(".menu-principal");e&&a&&e.addEventListener("click",function(){let t="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!t),e.classList.toggle("is-active"),a.classList.toggle("menu-aberto")})}function a(){let e=document.getElementById("form-cadastro");if(!e)return;let a=document.getElementById("mensagem-sucesso"),t=e.querySelectorAll("input[required]");e.addEventListener("submit",function(o){o.preventDefault(),t.forEach(e=>e.setAttribute("aria-invalid","false")),e.checkValidity()?(a.innerHTML="<h3>Cadastro enviado com sucesso!</h3><p>Obrigado por se juntar \xe0 nossa causa. Entraremos em contato em breve.</p>",a.style.display="block",e.reset()):(e.reportValidity(),e.querySelectorAll(":invalid").forEach(e=>{!1===e.checkValidity()&&e.setAttribute("aria-invalid","true")}))})}function t(){let e=document.getElementById("container-projetos");e&&(e.innerHTML="",[{id:"saude",titulo:"Projeto Sa\xfade Para Todos",imagem:"img/projeto-saude.jpg",alt:"Um veterin\xe1rio examina um gato laranja",descricao:"Este projeto oferece consulta veterin\xe1ria para animais de rua. Nosso objetivo \xe9 garantir qualidade de vida a animais abandonados.",badge:{texto:"Urgente",classe:"badge--perigo"}},{id:"carinho",titulo:"Carinho Comunit\xe1rio",imagem:"img/projeto-carinho.jpg",alt:"Volunt\xe1rios fazendo carinho em c\xe3o abandonado",descricao:"Semanalmente, nossos volunt\xe1rios visitam a ONG para brincar e fazer carinho em pets que foram resgatados das ruas.",badge:null},{id:"feira-adocao",titulo:"Feira de Ado\xe7\xe3o Mensal",imagem:"img/projeto-adocao.jpg",alt:"Pessoas brincando com c\xe3es em uma feira de ado\xe7\xe3o",descricao:"Todo primeiro s\xe1bado do m\xeas, realizamos uma grande feira de ado\xe7\xe3o para encontrar um novo lar para nossos animais.",badge:{texto:"Novo",classe:"badge--primario"}},{id:"capacitacao",titulo:"Capacita\xe7\xe3o de Volunt\xe1rios",imagem:"img/projeto-capacitacao.jpg",alt:"Volunt\xe1rios assistindo a uma palestra",descricao:"Preparamos e capacitamos novos volunt\xe1rios para lidar com os animais resgatados com seguran\xe7a e carinho.",badge:null}].forEach(function(a){let t="";a.badge&&(t=`<span class="badge ${a.badge.classe}">${a.badge.texto}</span>`);let o=`<article class="col-6 card"><div class="card__imagem-container"><img src="${a.imagem}" alt="${a.alt}"></div><div class="card__conteudo"><h3 id="${a.id}">${a.titulo}</h3>${t}<p style="margin-top: var(--espaco-sm);">${a.descricao}</p></div></article>`;e.innerHTML+=o}))}function o(){let e=document.getElementById("theme-toggle"),a=document.documentElement;if(!e)return;let t=localStorage.getItem("theme");"dark"===t?a.classList.add("dark-mode"):"light"!==t&&window.matchMedia("(prefers-color-scheme: dark)").matches&&a.classList.add("dark-mode"),e.addEventListener("click",function(){a.classList.contains("dark-mode")?(a.classList.remove("dark-mode"),localStorage.setItem("theme","light")):(a.classList.add("dark-mode"),localStorage.setItem("theme","dark"))})}e(),a(),t(),function r(){let i=document.getElementById("page-content");i&&document.querySelectorAll(".menu-principal a, .submenu a, h1 a").forEach(r=>{r.addEventListener("click",function(n){n.preventDefault();let s=r.href,d=document.querySelector(".menu-hamburger"),c=document.querySelector(".menu-principal");d&&c&&"true"===d.getAttribute("aria-expanded")&&(d.setAttribute("aria-expanded","false"),d.classList.remove("is-active"),c.classList.remove("menu-aberto")),function r(n){fetch(n).then(e=>e.text()).then(r=>{let s=new DOMParser,d=s.parseFromString(r,"text/html"),c=d.getElementById("page-content").innerHTML;i.innerHTML=c,history.pushState({},"",n),e(),a(),t(),o()}).catch(e=>{console.error("Falha ao carregar p\xe1gina: ",e),window.location.href=n})}(s)})})}(),o()});
